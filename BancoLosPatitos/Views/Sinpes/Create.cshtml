@model BancoLosPatitos.Models.Sinpe

@{
    ViewBag.Title = "Crear SINPE";
    int? idCajaCtx = ViewBag.IdCaja as int?;
}

<h2 class="clearfix" style="margin-bottom:12px;">Crear Nuevo SINPE</h2>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

    <div class="form-card">

        <div class="form-row">
            <div class="form-term">Teléfono de origen</div>
            <div class="form-value">
                @Html.TextBoxFor(m => m.TelefonoOrigen, new { @class = "form-control", type = "tel", maxlength = "20" })
                @Html.ValidationMessageFor(m => m.TelefonoOrigen, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-row">
            <div class="form-term">Nombre de origen</div>
            <div class="form-value">
                @Html.TextBoxFor(m => m.NombreOrigen, new { @class = "form-control", maxlength = "100" })
                @Html.ValidationMessageFor(m => m.NombreOrigen, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-row">
            <div class="form-term">Teléfono del destinatario</div>
            <div class="form-value">
                @Html.TextBoxFor(m => m.TelefonoDestinatario, new { @class = "form-control", type = "tel", maxlength = "20" })
                @Html.ValidationMessageFor(m => m.TelefonoDestinatario, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-row">
            <div class="form-term">Nombre del destinatario</div>
            <div class="form-value">
                @Html.TextBoxFor(m => m.NombreDestinatario, new { @class = "form-control", maxlength = "100" })
                @Html.ValidationMessageFor(m => m.NombreDestinatario, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-row">
            <div class="form-term">Monto</div>
            <div class="form-value">
                @Html.TextBoxFor(m => m.Monto, new { @class = "form-control", type = "number", step = "0.01", min = "0" })
                @Html.ValidationMessageFor(m => m.Monto, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-row">
            <div class="form-term">Descripción</div>
            <div class="form-value">
                @Html.TextAreaFor(m => m.Descripcion, 3, 60, new { @class = "form-control", maxlength = "250" })
                @Html.ValidationMessageFor(m => m.Descripcion, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-row">
            <div class="form-term">Fecha de registro</div>
            <div class="form-value">
                @{
                    var ahora = DateTime.Now;
                }
                <span class="as-text">@ahora.ToString("dd/MM/yyyy HH:mm")</span>
                @Html.Hidden("FechaDeRegistro", ahora)
            </div>
        </div>

        <div class="form-row">
            <div class="form-term">Estado</div>
            <div class="form-value">
                @Html.DropDownListFor(m => m.Estado,
                    new SelectList(new[] {
                        new { Value = 1, Text = "Sincronizado" },
                        new { Value = 0, Text = "No sincronizado" }
                    }, "Value", "Text", Model?.Estado ?? 1),
                    new { @class = "form-control" })
                @Html.ValidationMessageFor(m => m.Estado, "", new { @class = "text-danger" })
            </div>
        </div>

    </div>

    <div class="form-actions">
        <input type="submit" value="Crear" class="btn btn-outline-success" />
        <span class="spacer"></span>
        @if (idCajaCtx.HasValue)
        {
            @Html.ActionLink("← Regresar", "Index", "Sinpes",
                new { idCaja = idCajaCtx.Value },
                new { @class = "btn", style = "margin-left:auto; border:1px solid #666; color:#666; background:#fff; font-weight:600; border-radius:10px; padding:6px 14px;" })
        }
        else
        {
            @Html.ActionLink("← Regresar", "Index", "Sinpes", null,
                new { @class = "btn", style = "margin-left:auto; border:1px solid #666; color:#666; background:#fff; font-weight:600; border-radius:10px; padding:6px 14px;" })
        }
    </div>
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
